<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="NEWW Creative — Multidisciplinary studio focused on brand architecture, production, and creative direction.">
<title>NEWW Creative</title>
<link href="https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,300;0,400;0,500;1,300;1,400&display=swap" rel="stylesheet">
<script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
<style>
  :root {
    --bg: #141414;
    --fg: #ffffff;
    --fg-dim: #999999;
    --fg-muted: #555555;
    --border: #222222;
    --font: 'Libre Franklin', 'Helvetica Neue', Helvetica, Arial, sans-serif;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  html { scroll-behavior: smooth; }
  body {
    background: var(--bg);
    color: var(--fg);
    font-family: var(--font);
    font-weight: 300;
    font-size: 12px;
    line-height: 1.35;
    letter-spacing: -0.01em;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-x: hidden;
  }
  ::selection { background: var(--fg); color: var(--bg); }
  a { color: inherit; text-decoration: none; }

  .page { display: none; min-height: 100vh; }
  .page.active { display: block; }

  /* TWO-COL LAYOUT */
  .layout {
    display: grid;
    grid-template-columns: 480px 1fr;
    min-height: 100vh;
  }
  .col-left {
    padding: 24px;
    border-right: 1px solid var(--border);
    display: flex;
    flex-direction: column;
    position: sticky;
    top: 0;
    height: 100vh;
    overflow-y: auto;
  }
  .col-left::-webkit-scrollbar { width: 0; }
  .col-right { display: flex; flex-direction: column; }

  .logo { font-size: 12px; font-weight: 400; letter-spacing: 0.04em; color: var(--fg); margin-bottom: 6px; }
  .nav-inline { display: flex; gap: 20px; margin-bottom: 32px; }
  .nav-inline a { font-size: 12px; color: var(--fg-muted); transition: color 0.15s; }
  .nav-inline a:hover, .nav-inline a.active { color: var(--fg); }

  .info-header { margin-bottom: 40px; }
  .info-header p { color: var(--fg-dim); line-height: 1.55; max-width: 420px; }
  .info-header p + p { margin-top: 12px; font-size: 11px; color: var(--fg-muted); white-space: pre-line; }

  .info-section { margin-bottom: 32px; }
  .info-section-label { font-size: 10px; font-weight: 400; letter-spacing: 0.02em; color: var(--fg-muted); margin-bottom: 10px; }
  .info-section ul { list-style: none; }
  .info-section li { font-size: 12px; color: var(--fg-dim); line-height: 1.55; }
  .info-section li:hover { color: var(--fg); }
  .info-section a { transition: color 0.15s; }
  .info-section a:hover { color: var(--fg); }
  .info-cols { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; }

  .info-footer { margin-top: auto; padding-top: 32px; font-size: 11px; color: var(--fg-muted); }
  .info-footer a { color: var(--fg-dim); }
  .info-footer a:hover { color: var(--fg); }
  .info-footer-links { display: flex; gap: 16px; margin-top: 8px; }

  /* LOG TABLE */
  .log-table-header {
    display: grid; grid-template-columns: 2.5fr 2.5fr 1.2fr 0.8fr;
    padding: 8px 24px; font-size: 10px; color: var(--fg-muted);
    border-bottom: 1px solid var(--border);
    position: sticky; top: 0; background: var(--bg); z-index: 10;
  }
  .log-table-header span:last-child { text-align: right; }

  .log-row {
    display: grid; grid-template-columns: 2.5fr 2.5fr 1.2fr 0.8fr;
    padding: 12px 24px; border-bottom: 1px solid var(--border);
    cursor: pointer; transition: background 0.15s; align-items: baseline;
  }
  .log-row:hover { background: rgba(255,255,255,0.02); }
  .log-row .name { font-size: 12px; font-weight: 400; color: var(--fg); }
  .log-row .services { font-size: 12px; color: var(--fg-dim); }
  .log-row .status { font-size: 12px; color: var(--fg-dim); }
  .log-row .location { font-size: 12px; color: var(--fg-muted); text-align: right; }

  .log-expand {
    max-height: 0; overflow: hidden;
    transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    border-bottom: 1px solid var(--border);
  }
  .log-expand.open { max-height: 600px; }
  .log-expand-inner { padding: 16px 24px 24px; }
  .expand-meta { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 16px; }
  .expand-meta p { font-size: 12px; color: var(--fg-dim); line-height: 1.55; max-width: 480px; }
  .expand-meta a {
    font-size: 11px; color: var(--fg-muted); border-bottom: 1px solid var(--fg-muted);
    padding-bottom: 1px; transition: color 0.15s, border-color 0.15s; white-space: nowrap;
  }
  .expand-meta a:hover { color: var(--fg); border-color: var(--fg); }

  .expand-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; }
  .expand-thumb { aspect-ratio: 3/2; background: #1a1a1a; overflow: hidden; position: relative; }
  .expand-thumb img { width: 100%; height: 100%; object-fit: cover; display: block; }
  .expand-thumb .ph {
    width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;
    font-size: 10px; color: var(--fg-muted); letter-spacing: 0.02em;
    background: linear-gradient(145deg, #1c1c1c, #181818);
  }
  .expand-thumb.video .ph::before { content: '▶'; margin-right: 6px; font-size: 8px; }
  .expand-thumb iframe { width: 100%; height: 100%; border: none; }

  /* SERVICES */
  .service-row {
    padding: 24px; border-bottom: 1px solid var(--border);
    display: grid; grid-template-columns: 40px 1fr 1.5fr; gap: 24px;
    align-items: start; transition: background 0.15s;
  }
  .service-row:hover { background: rgba(255,255,255,0.015); }
  .service-num { font-size: 10px; color: var(--fg-muted); padding-top: 2px; }
  .service-name { font-size: 12px; font-weight: 400; color: var(--fg); }
  .service-desc { font-size: 12px; color: var(--fg-dim); line-height: 1.55; }
  .service-tags { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 10px; }
  .service-tag {
    font-size: 10px; color: var(--fg-muted); border: 1px solid var(--border);
    padding: 3px 10px; transition: border-color 0.15s, color 0.15s;
  }
  .service-row:hover .service-tag { border-color: var(--fg-muted); color: var(--fg-dim); }

  /* CONTACT */
  .contact-email-main {
    display: inline-block; font-size: 12px; color: var(--fg); margin-top: 24px;
    padding-bottom: 2px; border-bottom: 1px solid var(--fg-muted); transition: border-color 0.15s;
  }
  .contact-email-main:hover { border-color: var(--fg); }
  .contact-info-blocks { margin-top: 40px; display: grid; grid-template-columns: 1fr 1fr; gap: 24px; }

  .contact-form-col { padding: 24px; display: flex; flex-direction: column; }
  .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; }
  .field { margin-bottom: 24px; }
  .field label { display: block; font-size: 10px; color: var(--fg-muted); margin-bottom: 8px; }
  .field input, .field textarea, .field select {
    width: 100%; background: transparent; border: none; border-bottom: 1px solid var(--border);
    color: var(--fg); font-family: var(--font); font-size: 12px; font-weight: 300;
    padding: 8px 0; outline: none; letter-spacing: -0.01em; transition: border-color 0.15s;
  }
  .field input:focus, .field textarea:focus, .field select:focus { border-color: var(--fg-muted); }
  .field input::placeholder, .field textarea::placeholder { color: var(--fg-muted); }
  .field textarea { resize: none; min-height: 80px; line-height: 1.55; }
  .field select { -webkit-appearance: none; cursor: pointer; }
  .field select option { background: var(--bg); color: var(--fg); }
  .btn-submit {
    display: inline-block; background: transparent; border: 1px solid var(--border);
    color: var(--fg-dim); font-family: var(--font); font-size: 11px; font-weight: 300;
    letter-spacing: 0.01em; padding: 10px 32px; cursor: pointer;
    transition: all 0.15s; margin-top: 8px; width: fit-content;
  }
  .btn-submit:hover { background: var(--fg); color: var(--bg); border-color: var(--fg); }

  /* RESPONSIVE */
  @media (max-width: 1024px) {
    .layout { grid-template-columns: 1fr; }
    .col-left { position: relative; height: auto; border-right: none; border-bottom: 1px solid var(--border); }
    .log-table-header { position: relative; }
  }
  @media (max-width: 640px) {
    .log-table-header, .log-row { grid-template-columns: 1.5fr 1.5fr 0.8fr; }
    .log-table-header span:nth-child(4), .log-row .location { display: none; }
    .expand-grid { grid-template-columns: repeat(2, 1fr); }
    .service-row { grid-template-columns: 1fr; gap: 8px; }
    .service-num { display: none; }
    .form-row { grid-template-columns: 1fr; }
    .info-cols { grid-template-columns: 1fr; }
  }
</style>
</head>
<body>

<div id="page-home" class="page active">
  <div class="layout">
    <div class="col-left">
      <div class="logo" id="logo-home"></div>
      <div class="nav-inline">
        <a href="#" class="active" data-page="home" onclick="nav('home')">Portfolio</a>
        <a href="#" data-page="services" onclick="nav('services')">Services</a>
        <a href="#" data-page="contact" onclick="nav('contact')">Contact</a>
      </div>
      <div class="info-header">
        <p id="home-desc"></p>
        <p id="home-subtitle"></p>
      </div>
      <div class="info-cols">
        <div class="info-section">
          <div class="info-section-label">Selected clients</div>
          <ul id="client-list"></ul>
        </div>
        <div>
          <div class="info-section">
            <div class="info-section-label">Contact</div>
            <ul id="contact-brief"></ul>
          </div>
          <div class="info-section">
            <div class="info-section-label">Capabilities</div>
            <ul id="cap-list"></ul>
          </div>
        </div>
      </div>
      <div class="info-footer">
        <div id="footer-copy-home"></div>
        <div class="info-footer-links" id="footer-links-home"></div>
      </div>
    </div>
    <div class="col-right">
      <div class="log-table-header">
        <span>Client / Project</span><span>Services</span><span>Status</span><span style="text-align:right">Location</span>
      </div>
      <div id="project-log"></div>
    </div>
  </div>
</div>

<div id="page-services" class="page">
  <div class="layout">
    <div class="col-left">
      <div class="logo" id="logo-services"></div>
      <div class="nav-inline">
        <a href="#" data-page="home" onclick="nav('home')">Portfolio</a>
        <a href="#" class="active" data-page="services" onclick="nav('services')">Services</a>
        <a href="#" data-page="contact" onclick="nav('contact')">Contact</a>
      </div>
      <p id="services-intro" style="color:var(--fg-dim);line-height:1.55;max-width:420px;"></p>
      <p id="services-subtitle" style="font-size:11px;color:var(--fg-muted);margin-top:12px;"></p>
      <div class="info-footer">
        <div id="footer-copy-services"></div>
        <div class="info-footer-links" id="footer-links-services"></div>
      </div>
    </div>
    <div class="col-right" id="services-list"></div>
  </div>
</div>

<div id="page-contact" class="page">
  <div class="layout">
    <div class="col-left">
      <div class="logo" id="logo-contact"></div>
      <div class="nav-inline">
        <a href="#" data-page="home" onclick="nav('home')">Portfolio</a>
        <a href="#" data-page="services" onclick="nav('services')">Services</a>
        <a href="#" class="active" data-page="contact" onclick="nav('contact')">Contact</a>
      </div>
      <p id="contact-intro" style="color:var(--fg-dim);line-height:1.55;max-width:420px;"></p>
      <a href="" class="contact-email-main" id="contact-email-link"></a>
      <div class="contact-info-blocks" id="contact-blocks"></div>
      <div class="info-footer">
        <div id="footer-copy-contact"></div>
      </div>
    </div>
    <div class="contact-form-col">
      <div class="info-section-label" style="margin-bottom:24px;">Start a project</div>
      <form name="inquiry" method="POST" data-netlify="true" netlify-honeypot="bot-field">
        <input type="hidden" name="bot-field">
        <div class="form-row">
          <div class="field"><label>Name</label><input type="text" name="name" placeholder="Your name" required></div>
          <div class="field"><label>Email</label><input type="email" name="email" placeholder="you@company.com" required></div>
        </div>
        <div class="form-row">
          <div class="field"><label>Organization</label><input type="text" name="organization" placeholder="Company or church name"></div>
          <div class="field"><label>Service interest</label>
            <select name="service">
              <option value="" disabled selected>Select</option>
              <option>Brand Identity</option><option>Creative Direction</option>
              <option>Video Production</option><option>Web & Digital</option>
              <option>Packaging & Print</option><option>Brand Strategy</option>
              <option>Multiple / Not sure</option>
            </select>
          </div>
        </div>
        <div class="field"><label>Project details</label><textarea name="details" placeholder="Budget range, timeline, and what you're looking to accomplish"></textarea></div>
        <button class="btn-submit" type="submit">Send inquiry</button>
      </form>
    </div>
  </div>
</div>

<script>
// ─── NAVIGATION ───
function nav(page) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.getElementById('page-' + page).classList.add('active');
  document.querySelectorAll('.nav-inline a').forEach(a => a.classList.toggle('active', a.dataset.page === page));
  window.scrollTo(0, 0);
}

function toggle(row) {
  const exp = row.nextElementSibling;
  if (!exp || !exp.classList.contains('log-expand')) return;
  document.querySelectorAll('.log-expand.open').forEach(e => { if (e !== exp) e.classList.remove('open'); });
  exp.classList.toggle('open');
}

// ─── LOAD CONTENT ───
async function loadJSON(path) {
  const res = await fetch(path);
  return res.json();
}

async function loadProjects() {
  // Load all project files listed in the content directory
  const projectFiles = [
    'upperroom-worship-album', 'ashwood-brand-system', 'basketcase-growth',
    'fc-sabadell', 'ministry-school', 'angels-foundation', 'hydi', 'joel-houston'
  ];
  const projects = [];
  for (const f of projectFiles) {
    try {
      const p = await loadJSON(`/content/projects/${f}.json`);
      projects.push(p);
    } catch(e) { /* skip missing */ }
  }
  return projects.sort((a, b) => (a.order || 99) - (b.order || 99));
}

function makeThumb(src, isVideo) {
  const div = document.createElement('div');
  div.className = 'expand-thumb' + (isVideo ? ' video' : '');
  if (src) {
    const img = document.createElement('img');
    img.src = src; img.loading = 'lazy'; img.alt = '';
    div.appendChild(img);
  } else {
    const ph = document.createElement('div');
    ph.className = 'ph';
    ph.textContent = isVideo ? 'Vimeo' : 'Photo';
    div.appendChild(ph);
  }
  return div;
}

function makeVimeoEmbed(url) {
  const div = document.createElement('div');
  div.className = 'expand-thumb';
  // Convert vimeo.com URL to embed
  let embedUrl = url;
  if (url.includes('vimeo.com/') && !url.includes('player.vimeo.com')) {
    const id = url.split('vimeo.com/')[1]?.split(/[?#]/)[0];
    embedUrl = `https://player.vimeo.com/video/${id}?background=1&autoplay=1&loop=1&byline=0&title=0`;
  }
  div.innerHTML = `<iframe src="${embedUrl}" allow="autoplay; fullscreen" allowfullscreen></iframe>`;
  return div;
}

async function init() {
  const settings = await loadJSON('/content/settings.json');
  const services = await loadJSON('/content/services.json');
  const contact = await loadJSON('/content/contact.json');
  const projects = await loadProjects();

  // LOGOS
  document.querySelectorAll('.logo').forEach(el => el.textContent = settings.studio_name);

  // HOME LEFT
  document.getElementById('home-desc').textContent = settings.description;
  document.getElementById('home-subtitle').textContent = settings.subtitle;

  const clientList = document.getElementById('client-list');
  settings.clients.forEach(c => { const li = document.createElement('li'); li.textContent = c.name; clientList.appendChild(li); });

  const contactBrief = document.getElementById('contact-brief');
  contactBrief.innerHTML = `<li>${settings.studio_name}</li><li>${settings.location}</li><li style="margin-top:8px"><a href="mailto:${settings.email}">${settings.email}</a></li>`;

  const capList = document.getElementById('cap-list');
  settings.capabilities.forEach(c => { const li = document.createElement('li'); li.textContent = c.name; capList.appendChild(li); });

  // FOOTERS
  const year = new Date().getFullYear();
  document.querySelectorAll('[id^="footer-copy"]').forEach(el => el.textContent = `© ${year} ${settings.studio_name}`);
  document.querySelectorAll('[id^="footer-links"]').forEach(el => {
    el.innerHTML = '';
    if (settings.instagram) el.innerHTML += `<a href="${settings.instagram}">Instagram</a>`;
    if (settings.vimeo) el.innerHTML += `<a href="${settings.vimeo}">Vimeo</a>`;
    if (settings.linkedin) el.innerHTML += `<a href="${settings.linkedin}">LinkedIn</a>`;
  });

  // PROJECT LOG
  const log = document.getElementById('project-log');
  projects.forEach(p => {
    const row = document.createElement('div');
    row.className = 'log-row';
    row.onclick = function() { toggle(this); };
    row.innerHTML = `<span class="name">${p.title}</span><span class="services">${p.services}</span><span class="status">${p.status}</span><span class="location">${p.location}</span>`;
    log.appendChild(row);

    const expand = document.createElement('div');
    expand.className = 'log-expand';
    const inner = document.createElement('div');
    inner.className = 'log-expand-inner';

    const meta = document.createElement('div');
    meta.className = 'expand-meta';
    meta.innerHTML = `<p>${p.description}</p>`;
    if (p.external_link) meta.innerHTML += `<a href="${p.external_link}" target="_blank">View project ↗</a>`;
    inner.appendChild(meta);

    const grid = document.createElement('div');
    grid.className = 'expand-grid';

    // First slot: vimeo embed or image
    if (p.vimeo_url) {
      grid.appendChild(makeVimeoEmbed(p.vimeo_url));
    } else {
      grid.appendChild(makeThumb(p.image1, false));
    }
    grid.appendChild(makeThumb(p.vimeo_url ? p.image1 : p.image2, false));
    grid.appendChild(makeThumb(p.vimeo_url ? p.image2 : p.image3, false));
    grid.appendChild(makeThumb(p.vimeo_url ? p.image3 : p.image4, false));

    inner.appendChild(grid);
    expand.appendChild(inner);
    log.appendChild(expand);
  });

  // SERVICES PAGE
  document.getElementById('services-intro').textContent = services.intro;
  document.getElementById('services-subtitle').textContent = services.subtitle || '';
  const servicesList = document.getElementById('services-list');
  services.services.forEach((s, i) => {
    const row = document.createElement('div');
    row.className = 'service-row';
    const num = String(i + 1).padStart(2, '0');
    let tagsHtml = s.tags.map(t => `<span class="service-tag">${t.tag}</span>`).join('');
    row.innerHTML = `<span class="service-num">${num}</span><span class="service-name">${s.name}</span><div><div class="service-desc">${s.description}</div><div class="service-tags">${tagsHtml}</div></div>`;
    servicesList.appendChild(row);
  });

  // CONTACT PAGE
  document.getElementById('contact-intro').textContent = contact.intro;
  const emailLink = document.getElementById('contact-email-link');
  emailLink.href = `mailto:${settings.email}`;
  emailLink.textContent = settings.email;

  const blocks = document.getElementById('contact-blocks');
  blocks.innerHTML = `
    <div class="info-section"><div class="info-section-label">Location</div><ul><li>${settings.location}</li><li>Working worldwide</li></ul></div>
    <div class="info-section"><div class="info-section-label">Social</div><ul>
      ${settings.instagram ? `<li><a href="${settings.instagram}">Instagram</a></li>` : ''}
      ${settings.vimeo ? `<li><a href="${settings.vimeo}">Vimeo</a></li>` : ''}
      ${settings.linkedin ? `<li><a href="${settings.linkedin}">LinkedIn</a></li>` : ''}
    </ul></div>
    <div class="info-section"><div class="info-section-label">New business</div><ul><li><a href="mailto:${settings.email}">${settings.email}</a></li></ul></div>
    ${settings.email_general ? `<div class="info-section"><div class="info-section-label">General</div><ul><li><a href="mailto:${settings.email_general}">${settings.email_general}</a></li></ul></div>` : ''}
  `;
}

init();

// Netlify Identity redirect
if (window.netlifyIdentity) {
  window.netlifyIdentity.on("init", user => {
    if (!user) window.netlifyIdentity.on("login", () => { document.location.href = "/admin/"; });
  });
}
</script>
</body>
</html>
